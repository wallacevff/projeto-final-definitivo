import{a as S}from"./chunk-HMX4YSKT.js";import{a as E}from"./chunk-LIHITQLG.js";import"./chunk-PD3M4KJI.js";import{g as P,h,k as y}from"./chunk-TDWUSEOQ.js";import{Bb as O,Gb as u,Ia as o,T as f,Ta as b,Xa as c,ea as x,eb as v,fb as p,hb as M,jb as r,kb as n,ma as m,mb as _,nb as C,tb as d,xb as g,yb as a,zb as s}from"./chunk-IFOETVGF.js";function w(t,i){if(t&1&&(r(0,"tr")(1,"td")(2,"span",10),a(3),n()(),r(4,"td")(5,"span",11),a(6),n()(),r(7,"td")(8,"span"),a(9),n()(),r(10,"td")(11,"span",12),a(12),n()(),r(13,"td")(14,"span",13),a(15),n()(),r(16,"td")(17,"span",14),a(18),n()()()),t&2){let e=i.$implicit;v("data-status",e.status),o(3),s(e.name),o(3),s(e.courseTitle),o(3),O("",e.occupied," / ",e.capacity,""),o(2),M("badge--accent",e.requiresApproval),o(),s(e.requiresApproval?"Sim":"Nao"),o(3),s(e.status),o(3),s(e.nextEvent)}}function k(t,i){if(t&1&&(r(0,"div",8)(1,"table")(2,"thead")(3,"tr")(4,"th"),a(5,"Turma"),n(),r(6,"th"),a(7,"Curso"),n(),r(8,"th"),a(9,"Vagas"),n(),r(10,"th"),a(11,"Requer aprovacao?"),n(),r(12,"th"),a(13,"Status"),n(),r(14,"th"),a(15,"Proximo evento"),n()()(),r(16,"tbody"),c(17,w,19,10,"tr",9),n()()()),t&2){let e=d(3);o(17),p("ngForOf",e.classGroups())("ngForTrackBy",e.trackByGroupId)}}function T(t,i){if(t&1&&(_(0),c(1,k,18,2,"div",7),C()),t&2){let e=d(2),l=g(15);o(),p("ngIf",e.classGroups().length)("ngIfElse",l)}}function R(t,i){if(t&1&&(_(0),c(1,T,2,2,"ng-container",6),C()),t&2){let e=d(),l=g(13);o(),p("ngIf",!e.error())("ngIfElse",l)}}function D(t,i){t&1&&(r(0,"div",15),a(1,"Carregando turmas..."),n())}function F(t,i){if(t&1&&(r(0,"div",16),a(1),n()),t&2){let e=d();o(),s(e.error())}}function N(t,i){t&1&&(r(0,"div",15),a(1,"Nenhuma turma cadastrada ate o momento."),n())}var I=class t{service=f(S);destroyRef=f(x);loading=m(!0);error=m(null);classGroups=m([]);constructor(){this.service.getClassGroupRows().pipe(E(this.destroyRef)).subscribe({next:i=>{this.classGroups.set(i),this.error.set(null),this.loading.set(!1)},error:()=>{this.error.set("Nao foi possivel carregar as turmas."),this.loading.set(!1)}})}trackByGroupId(i,e){return e.id}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-class-groups"]],decls:16,vars:2,consts:[["loadingState",""],["errorState",""],["emptyState",""],[1,"class-groups"],[1,"description"],["type","button"],[4,"ngIf","ngIfElse"],["class","table-wrapper",4,"ngIf","ngIfElse"],[1,"table-wrapper"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"title"],[1,"course"],[1,"badge"],[1,"status"],[1,"meta"],[1,"state","state--info"],[1,"state","state--error"]],template:function(e,l){if(e&1&&(r(0,"section",3)(1,"header")(2,"div")(3,"h2"),a(4,"Turmas e inscricoes"),n(),r(5,"p",4),a(6,"Acompanhe o andamento das turmas e a taxa de ocupacao por curso."),n()(),r(7,"button",5),a(8,"Criar turma"),n()(),c(9,R,2,2,"ng-container",6),n(),c(10,D,2,0,"ng-template",null,0,u)(12,F,2,1,"ng-template",null,1,u)(14,N,2,0,"ng-template",null,2,u)),e&2){let G=g(11);o(9),p("ngIf",!l.loading())("ngIfElse",G)}},dependencies:[y,P,h],styles:[".class-groups[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.class-groups[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.class-groups[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;color:var(--surface-900)}.class-groups[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.65rem 1.25rem;border-radius:12px;border:none;background:#6366f126;color:var(--accent-600);font-weight:600;cursor:pointer}.table-wrapper[_ngcontent-%COMP%]{border-radius:20px;background:#fffffff5;box-shadow:0 22px 60px -46px #0f172a80;overflow:hidden;border:1px solid rgba(148,163,184,.16)}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem;color:var(--surface-700)}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#6366f114;padding:1rem 1.25rem;text-align:left;font-weight:600;color:var(--surface-600)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:1px solid rgba(148,163,184,.16);transition:background .2s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{border-top:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#6366f10d}td[_ngcontent-%COMP%]{padding:1rem 1.25rem}.title[_ngcontent-%COMP%]{font-weight:600;color:var(--surface-900)}.course[_ngcontent-%COMP%]{color:var(--surface-500);font-size:.9rem}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:.25rem .65rem;border-radius:999px;background:#94a3b840;font-size:.75rem;text-transform:uppercase;letter-spacing:.08em}.badge--accent[_ngcontent-%COMP%]{background:#26c0ab2e;color:#047857}.status[_ngcontent-%COMP%]{font-weight:600;color:var(--accent-600)}[data-status=Conclu\\ed da][_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{color:#0f172a}.meta[_ngcontent-%COMP%]{color:var(--surface-500);font-size:.9rem}@media (max-width: 880px){table[_ngcontent-%COMP%], thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{display:block}thead[_ngcontent-%COMP%]{display:none}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid rgba(148,163,184,.16);border-radius:16px;margin:.75rem;padding:1rem}td[_ngcontent-%COMP%]{padding:.25rem 0}}.class-groups[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--surface-500);font-size:.95rem}.state[_ngcontent-%COMP%]{padding:1.5rem;border-radius:16px;text-align:center;font-weight:500;background:#94a3b826;color:var(--surface-600)}.state--error[_ngcontent-%COMP%]{background:#f871712e;color:#b91c1c}"],changeDetection:0})};export{I as ClassGroupsComponent};
