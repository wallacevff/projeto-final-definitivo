import{a as z}from"./chunk-HMX4YSKT.js";import{a as T}from"./chunk-LIHITQLG.js";import"./chunk-PD3M4KJI.js";import{g as I,h as E,j as k,k as w}from"./chunk-TDWUSEOQ.js";import{Ab as x,Cb as O,Eb as P,Fb as S,Gb as C,Ia as i,T as u,Ta as h,Xa as c,ea as b,eb as v,fb as p,gb as y,jb as r,kb as n,lb as M,ma as m,mb as g,nb as _,tb as d,xb as f,yb as o,zb as l}from"./chunk-IFOETVGF.js";function B(t,a){if(t&1&&(r(0,"span"),o(1),P(2,"date"),n()),t&2){let e=d().$implicit;i(),x("Publicado em ",S(2,1,e.publishedAt,"dd/MM/yyyy"),"")}}function F(t,a){if(t&1&&(r(0,"article",9)(1,"div",10)(2,"span",11),o(3),n(),r(4,"span",12),o(5),n()(),r(6,"h3"),o(7),n(),r(8,"div",13)(9,"span"),o(10,"Instrutor: "),r(11,"strong"),o(12),n()(),r(13,"span"),o(14),n(),c(15,B,3,4,"span",14),n(),r(16,"div",15)(17,"div",16)(18,"label"),o(19,"Ocupacao das turmas"),n(),r(20,"div",17),M(21,"span"),n(),r(22,"small"),o(23),n()(),r(24,"div",18)(25,"button",5),o(26,"Gerenciar"),n()()()()),t&2){let e=a.$implicit,s=d(3);v("data-status",e.published?"Publicado":"Rascunho"),i(3),l(e.category),i(2),l(e.published?"Publicado":"Rascunho"),i(2),l(e.title),i(5),l(e.instructor),i(2),x("Modalidade: ",e.modeLabel,""),i(),p("ngIf",e.published&&e.publishedAt),i(6),y("width",s.percentOccupied(e),"%"),i(2),O("",e.enrolledStudents," inscritos \xB7 ",e.classGroups," turmas \xB7 ",s.percentOccupied(e),"%")}}function j(t,a){if(t&1&&(g(0),r(1,"div",7),c(2,F,27,12,"article",8),n(),_()),t&2){let e=d(2);i(2),p("ngForOf",e.courses())("ngForTrackBy",e.trackByCourseId)}}function L(t,a){if(t&1&&(g(0),c(1,j,3,2,"ng-container",6),_()),t&2){let e=d(),s=f(13);i(),p("ngIf",!e.error())("ngIfElse",s)}}function N(t,a){t&1&&(r(0,"div",19),o(1,"Carregando cursos..."),n())}function A(t,a){if(t&1&&(r(0,"div",20),o(1),n()),t&2){let e=d();i(),l(e.error())}}var D=class t{service=u(z);destroyRef=u(b);loading=m(!0);error=m(null);courses=m([]);constructor(){this.service.getCourseCards().pipe(T(this.destroyRef)).subscribe({next:a=>{this.courses.set(a),this.error.set(null),this.loading.set(!1)},error:()=>{this.error.set("Nao foi possivel carregar os cursos. Tente novamente mais tarde."),this.loading.set(!1)}})}trackByCourseId(a,e){return e.id}percentOccupied(a){return a.capacity?Math.min(100,Math.round(a.enrolledStudents/a.capacity*100)):0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-courses"]],decls:14,vars:2,consts:[["loadingState",""],["errorState",""],[1,"courses"],[1,"courses__header"],[1,"description"],["type","button"],[4,"ngIf","ngIfElse"],[1,"courses__grid"],["class","course-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"course-card"],[1,"course-card__header"],[1,"course-card__category"],[1,"course-card__status"],[1,"course-card__meta"],[4,"ngIf"],[1,"course-card__footer"],[1,"progress"],[1,"progress__bar"],[1,"stats"],[1,"state","state--info"],[1,"state","state--error"]],template:function(e,s){if(e&1&&(r(0,"section",2)(1,"header",3)(2,"div")(3,"h2"),o(4,"Cursos publicados"),n(),r(5,"p",4),o(6,"Visualize a disponibilidade das trilhas e acompanhe o envolvimento dos alunos."),n()(),r(7,"button",5),o(8,"Novo curso"),n()(),c(9,L,2,2,"ng-container",6),n(),c(10,N,2,0,"ng-template",null,0,C)(12,A,2,1,"ng-template",null,1,C)),e&2){let R=f(11);i(9),p("ngIf",!s.loading())("ngIfElse",R)}},dependencies:[w,I,E,k],styles:[".courses[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.courses__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:1rem}.courses__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.6rem;color:var(--surface-900)}.courses__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:999px;border:none;background:linear-gradient(135deg,var(--accent-500),var(--accent-600));color:#fff;font-weight:600;cursor:pointer;box-shadow:0 16px 30px -24px #4f46e5b3}.courses__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.5rem}.course-card[_ngcontent-%COMP%]{background:#fffffff5;border-radius:22px;padding:1.5rem;display:flex;flex-direction:column;gap:1rem;box-shadow:0 24px 60px -48px #0f172a99;border:1px solid rgba(99,102,241,.08)}.course-card[data-status=Rascunho][_ngcontent-%COMP%]{border:1px dashed rgba(148,163,184,.8);background:#f8fafce6}.course-card__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.8rem;text-transform:uppercase;letter-spacing:.08em;color:var(--surface-500)}.course-card__status[_ngcontent-%COMP%]{border-radius:999px;padding:.25rem .75rem;background:#6366f11f;color:var(--accent-600)}.course-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:var(--surface-900);line-height:1.35}.course-card__meta[_ngcontent-%COMP%]{display:grid;gap:.3rem;font-size:.9rem;color:var(--surface-500)}.course-card__meta[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--surface-900)}.course-card__footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;gap:1.5rem}.progress[_ngcontent-%COMP%]{flex:1;display:grid;gap:.5rem}.progress[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--surface-500)}.progress__bar[_ngcontent-%COMP%]{width:100%;height:8px;border-radius:999px;background:#94a3b859;overflow:hidden}.progress__bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:100%;border-radius:inherit;background:linear-gradient(135deg,var(--accent-500),var(--accent-600))}.stats[_ngcontent-%COMP%]{display:grid;justify-items:end;gap:.4rem;font-size:.85rem;color:var(--surface-500)}.stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:#6366f11f;color:var(--accent-600);padding:.5rem 1rem;border-radius:12px;cursor:pointer}@media (max-width: 640px){.course-card__footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.stats[_ngcontent-%COMP%]{justify-items:stretch;text-align:center}}.courses__header[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:.25rem 0 0;color:var(--surface-500);font-size:.95rem}.state[_ngcontent-%COMP%]{padding:1.5rem;border-radius:16px;text-align:center;font-weight:500;background:#94a3b826;color:var(--surface-600)}.state--error[_ngcontent-%COMP%]{background:#f871712e;color:#b91c1c}"],changeDetection:0})};export{D as CoursesComponent};
